<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>클릭한 숫자 기록</title>
        <link rel="stylesheet" href="../css/28_클릭한숫자기록.css"/>
    </head>
    <body>
        <h1>클릭한 숫자들 기록하기</h1>
        <div class="container">
            <div class="number">1</div>
            <div class="number">2</div>
            <div class="number">3</div>
            <div class="number">4</div>
            <div class="number">5</div>
            <div class="number">6</div>
            <div class="number">7</div>
            <div class="number">8</div>
            <div class="number">9</div>
            <div class="number">0</div>
        </div>
        <div>
            클릭한 숫자 : <span id="result"></span>
            <br>
            <button id="resultBtn">초기화</button>
        </div>
        <script>
            const numbers = document.querySelectorAll(".number");
            const result = document.querySelector("#result");
            /*
            for ( of ){}
                태그를 돈다.
            
            for (let item of 숫자들){} 
            const 숫자들 = {1,2,3,4,5}

            for ( in ) {}
            키를 기반으로 반복
            for (let key in 사람들){}
                const 사람들 = {
                    기호1번 : 김말숙,
                    기호2번 : 박정애,
                    기호3번 : 오연석
                }
            */
            for(let item of numbers){ // for ... of 배열이나 객체 태그를 순회할 때 사용하는 문법
                item.addEventListener("click", e =>{
                    //만약에 숫자를 10이상 누르면 10글자까지만 입력 가능이라는 alert 설정
                    // === 일치연산자 값과 타입을 모두 비교
                    // ==  동등연산자  값만 비교
                    if(result.textContent.length === 10){
                        alert("숫자를 10글자까지만 입력 가능");
                        //더이상 못 누르게 하기
                        return;
                    }
                    //이미 선택한 숫자일 경우 다시 선택하지 못하도록 처리
                    if(e.target.classList.contains("active")){
                        alert("이미 선택된 숫자입니다.");
                        return;
                    }
                    result.textContent += e.target.textContent;
                    //숫자 결과에 클릭한숫자들 모두 += 옆에다가 담아두기
                    
                    //선택된 숫자에 active 
                    e.target.classList.add("active");

                    //10일 경우에는 한개 지워주기
                     if(result.textContent.length === 10){
                        for(let item of numbers){
                            item.removeEventListener("click",handleClick);
                        }
                        console.log("더 이상 숫자를 추가할 수 없습니다.");
                    }
                });
            }
            /* 초기화 버튼 */
            document.querySelector("#resultBtn").addEventListener("click", () =>{
                result.textContent = ""; // 기존에 있던 값을 모두 ""로 지우는 것
            })
        </script>
    </body>
</html>